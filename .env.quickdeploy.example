# Quick Deploy ACP Integration Configuration
# For Kosher Capital's Trading Agent Deployment Service

# ========================================
# REQUIRED: Core Agent Configuration
# ========================================

# Your GAME API key from Virtuals Console (https://console.virtuals.io)
GAME_API_KEY=your_game_api_key_here

# Private key for the whitelisted wallet (must be registered on Virtuals)
# No ETH needed - Virtuals Protocol handles all gas fees automatically!
WHITELISTED_WALLET_PRIVATE_KEY=your_whitelisted_wallet_private_key_here

# Entity ID for the whitelisted wallet (obtained when registering your agent)
WHITELISTED_WALLET_ENTITY_ID=1

# Your agent's wallet address (receives payments for services)
AGENT_WALLET_ADDRESS=your_agent_wallet_address_here

# ========================================
# REQUIRED: Service Configuration
# ========================================

# Your service name (displayed to users)
SERVICE_NAME="Launch a trading agent"

# Your service description
SERVICE_DESCRIPTION="Quick deployment of an AI trading agent"

# Your API endpoint - Kosher Capital's Quick Deploy API
# From transcript: https://parallax-analytics.onrender.com/api/v1/secure/fundDetails/quick-deploy
API_ENDPOINT=https://parallax-analytics.onrender.com/api/v1/secure/fundDetails/quick-deploy

# API authentication (if required)
API_KEY=your_api_key_if_needed

# ========================================
# Quick Deploy Specific Configuration
# ========================================

# Factory contract address for agent deployment
# Note from transcript: "don't use the new factory address"
# Using FACTORY_ADDRESS not FACTORY_ADDRESS_NEW
FACTORY_CONTRACT_ADDRESS=0x0fE1eBa3e809CD0Fc34b6a3666754B7A042c169a

# Shekel API key (KEEP PRIVATE - obtain from Shekel team)
SHEKEL_API_KEY=your_shekel_api_key_here

# Expected payment amount in USDC
SERVICE_PRICE=50

# Payment recipient address (DESIGNATED_ADDRESS from the code)
PAYMENT_RECIPIENT_ADDRESS=0x48597AfA1c4e7530CA8889bA9291494757FEABD2

# USDC contract address on Base
USDC_CONTRACT_ADDRESS=0x833589fcd6edb6e08f4c7c32d4f71b54bda02913

# ========================================
# OPTIONAL: Advanced Configuration
# ========================================

# ACP Configuration
ACP_RPC_URL=https://base.llamarpc.com
ACP_CHAIN_ID=8453
ACP_CONTRACT_ADDRESS=0xC6e864B52203da6593C83fD18E4c1212D088F61F

# Performance Settings
ACP_PROCESSING_DELAY=3000  # Delay between job processing (ms)
ACP_MAX_RETRIES=3          # Max retry attempts for failed transactions
GAS_PRICE_MULTIPLIER=1.1   # Gas price increase multiplier for retries
MAX_GAS_PRICE=100          # Maximum gas price in gwei
TX_CONFIRMATION_TIMEOUT=60000  # Transaction confirmation timeout (ms)

# Service Level Agreement (SLA)
JOB_EXPIRATION_HOURS=24    # Hours before jobs expire (triggers refund)
ENABLE_JOB_EXPIRATION=true # Enable automatic job expiration

# Environment & Graduation
ENVIRONMENT=sandbox        # 'sandbox' or 'production'
NETWORK=base              # 'base' for mainnet, 'sepolia' for testnet
SANDBOX_TRANSACTION_COUNT=0  # Track successful sandbox transactions

# Logging
LOG_LEVEL=info             # debug, info, warn, error
LOG_API_OUTPUT=false       # Log API responses (set true for debugging)
ENABLE_TX_MONITORING=true  # Enable transaction monitoring

# Mock Testing
ENABLE_MOCK_BUYER=false    # Enable mock buyer for testing
MOCK_BUYER_INTERVAL=30000  # Mock buyer request interval (ms)

# State Management
KEEP_COMPLETED_JOBS=5      # Number of completed jobs to keep in memory
KEEP_CANCELLED_JOBS=5      # Number of cancelled jobs to keep in memory
IGNORED_JOB_IDS=           # Comma-separated list of job IDs to ignore

# ========================================
# Notification & Callback Configuration
# ========================================

# Webhook URL for automatic TX hash callbacks
# This endpoint will receive transaction hashes automatically
KOSHER_CAPITAL_WEBHOOK_URL=https://api.koshercapital.com/webhooks/deployment

# Webhook authentication secret
WEBHOOK_SECRET=your_webhook_secret_here

# Status update webhook (optional)
STATUS_WEBHOOK_URL=https://api.koshercapital.com/webhooks/status

# Webhook retry configuration
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY_MS=1000
WEBHOOK_CALLBACK_DELAY=2000  # Delay after TX confirmation before sending webhook

# Legacy callback configuration (deprecated - use webhooks above)
KOSHER_CAPITAL_CALLBACK_URL=https://api.koshercapital.com/webhooks/acp/deployment
KOSHER_CAPITAL_AUTH_METHOD=bearer
KOSHER_CAPITAL_CALLBACK_TOKEN=your_callback_token_here
CALLBACK_MAX_RETRIES=3
CALLBACK_TIMEOUT=30000

# Transaction logging directory
TRANSACTION_LOG_DIR=./logs

# Status API port (optional - for monitoring endpoints)
STATUS_API_PORT=3000
STATUS_API_ENABLED=true
